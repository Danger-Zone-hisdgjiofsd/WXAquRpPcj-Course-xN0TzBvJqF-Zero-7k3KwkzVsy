{"swagger":"2.0","info":{"version":"2019/3/4 上午 01:54:53","title":"API Reference"},"paths":{"/api/Avatar/UploadAvatar":{"post":{"tags":["Avatar"],"summary":"Keys are (first one MUST be auth_token):\r\nauth_token,\r\nfile,\r\n[file has to be less than 1MB]","operationId":"UploadAvatar","consumes":["multipart/form-data"],"produces":[],"parameters":[],"responses":{"200":{"description":"Success"}}}},"/api/Avatar/GetAvatarByUserid":{"post":{"tags":["Avatar"],"summary":"Return Avatars/default.png if userid is invalid","operationId":"GetAvatarByUserid","consumes":["application/json"],"produces":[],"parameters":[{"name":"avatarByUserid_Request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/GetAvatarByUserid_Request"}}],"responses":{"200":{"description":"Success"}}}},"/api/ChangePassword":{"post":{"tags":["ChangePassword"],"operationId":"Post","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","required":false,"schema":{"$ref":"#/definitions/Password_Change_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Password_Change_Response"}}}}},"/api/File/EditFileInfo":{"post":{"tags":["File"],"summary":"Edit an uploaded file info","operationId":"EditFileInfo","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/EditFileInfo_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/EditFileInfo_Response"}}}}},"/api/File/DeleteFile":{"post":{"tags":["File"],"summary":"Delete an uploaded file","operationId":"DeleteFile","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/DeleteFile_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/DeleteFile_Response"}}}}},"/api/File/GetFileByFileid":{"post":{"tags":["File"],"operationId":"GetFileByFileid","consumes":["application/json"],"produces":[],"parameters":[{"name":"request","in":"body","required":false,"schema":{"$ref":"#/definitions/GetFileByFileid_Reuqest"}}],"responses":{"200":{"description":"Success"}}}},"/api/File/GetThumbnailByFileid":{"post":{"tags":["File"],"summary":"Return file Thumbnail (.png) generated by the server","operationId":"GetThumbnailByFileid","consumes":["application/json"],"produces":[],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/GetThumbnailByFileid_Request"}}],"responses":{"200":{"description":"Success"}}}},"/api/FileComments/GetFileComments":{"post":{"tags":["FileComments"],"summary":"Get the file comments of a specific file, decreasing ordered by posted time.","operationId":"GetFileComments","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/GetFileComments_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/GetFileComments_Response"}}}}},"/api/FileComments/PostFileComment":{"post":{"tags":["FileComments"],"summary":"Post a file comment","operationId":"PostFileComment","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/PostFileComment_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/PostFileComment_Response"}}}}},"/api/FileComments/DeleteFileComment":{"post":{"tags":["FileComments"],"summary":"Delete a comment by filecommentID.","operationId":"DeleteFileComment","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/DeleteFileComment_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/DeleteFileComment_Response"}}}}},"/api/ForgotPassword/Request_Change":{"post":{"tags":["ForgotPassword"],"operationId":"Request_Change","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","required":false,"schema":{"$ref":"#/definitions/ForgotPassword_Change_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ForgotPassword_Change_Response"}}}}},"/api/ForgotPassword/Activate/{id}/{hash}":{"get":{"tags":["ForgotPassword"],"operationId":"Activate","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int32"},{"name":"hash","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/General/GetAllCourses":{"post":{"tags":["General"],"summary":"Return a list of Course object on success. View class Course in CourseContext.cs for model info. Return \"status_code\": 1 when fail.","operationId":"GetAllCourses","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"authToken_Request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/AuthToken_Request"}}],"responses":{"200":{"description":"Success"}}}},"/api/General/GetUserInfo":{"post":{"tags":["General"],"summary":"Get the username of an user by an userid, if not specifiy the userid, it will return the username which belongs to the auth token user.","operationId":"GetUserInfo","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/GetUserInfo_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/GetUserInfo_Response"}}}}},"/api/Login":{"post":{"tags":["Login"],"operationId":"Post","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","required":false,"schema":{"$ref":"#/definitions/Login_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Login_Response"}}}}},"/api/ProfileComments/GetProfileComments":{"post":{"tags":["ProfileComments"],"summary":"Get the profile comments of a user, decreasing ordered by posted time.","operationId":"GetProfileComments","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/GetProfileComments_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/GetProfileComments_Response"}}}}},"/api/ProfileComments/PostProfileComment":{"post":{"tags":["ProfileComments"],"summary":"Post a profile comment to a specific user","operationId":"PostProfileComment","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/PostProfileComment_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/PostProfileComment_Response"}}}}},"/api/ProfileComments/DeleteProfileComment":{"post":{"tags":["ProfileComments"],"summary":"Delete a profile comment by profilecommentID.","operationId":"DeleteProfileComment","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/DeleteProfileComment_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/DeleteProfileComment_Response"}}}}},"/api/Rating/LikeOrUndo":{"post":{"tags":["Rating"],"summary":"Like, dislike or unlike a file.","operationId":"LikeOrUndo","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/LikeOrUndo_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/LikeOrUndo_Response"}}}}},"/api/Register":{"post":{"tags":["Register"],"operationId":"Post","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","required":false,"schema":{"$ref":"#/definitions/Register_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Register_Response"}}}}},"/api/Register/Reissue_Email":{"post":{"tags":["Register"],"summary":"Reissue an verification email","operationId":"Reissue_Email","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/Reissue_Email_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Reissue_Email_Response"}}}}},"/api/Register/Verify_Email/{username}/{hash}":{"get":{"tags":["Register"],"operationId":"Verify_Email","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"username","in":"path","required":true,"type":"string"},{"name":"hash","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/Search/SearchByUserID":{"post":{"tags":["Search"],"operationId":"SearchByUserID","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","required":false,"schema":{"$ref":"#/definitions/SearchByUserID_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Search_Response"}}}}},"/api/Search/SearchByCourseID":{"post":{"tags":["Search"],"operationId":"SearchByCourseID","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","required":false,"schema":{"$ref":"#/definitions/SearchByCourseID_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Search_Response"}}}}},"/api/Search/SearchByQuery":{"post":{"tags":["Search"],"summary":"A search method that will return a list of result according to ranking. Top one is the most relevant.","operationId":"SearchByQuery","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/SearchByQuery_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Search_Response"}}}}},"/api/Session/Logout":{"post":{"tags":["Session"],"operationId":"Logout","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","required":false,"schema":{"$ref":"#/definitions/Logout_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Logout_Response"}}}}},"/api/Session/Get_All_Sessions":{"post":{"tags":["Session"],"operationId":"Get_All_Sessions","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","required":false,"schema":{"$ref":"#/definitions/Get_All_Sessions_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Get_All_Sessions_Response"}}}}},"/api/Session/Logout_Specific_Session":{"post":{"tags":["Session"],"operationId":"Logout_Specific_Session","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","required":false,"schema":{"$ref":"#/definitions/Logout_Specific_Session_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Logout_Specific_Session_Response"}}}}},"/api/Subscription/SubscribeOrUndo":{"post":{"tags":["Subscription"],"summary":"Subscribe to a course if it is not subscribed currently. Unubscribe to a course if it is subscribed currently. Max limit per user is 200.","operationId":"SubscribeOrUndo","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/SubscribeOrUndo_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/SubscribeOrUndo_Response"}}}}},"/api/Subscription/GetUserAllSubscription":{"post":{"tags":["Subscription"],"operationId":"GetUserAllSubscription","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","required":false,"schema":{"$ref":"#/definitions/GetUserAllSubscription_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/GetUserAllSubscription_Response"}}}}},"/api/Upload/GetFileProcessStatus":{"post":{"tags":["Upload"],"summary":"Get the file process status by upload hist (file) id.","operationId":"GetFileProcessStatus","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/GetFileProcessStatus_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/GetFileProcessStatus_Response"}}}}},"/api/Upload/UploadFile":{"post":{"tags":["Upload"],"summary":"Keys are (first one MUST be auth_token):\r\nauth_token,\r\nfile_name [len not longer than 256],\r\nfile_description [len not longer than 10240],\r\nrelated_courseid,\r\nfile,\r\n[file has to be less than 100MB]\r\n\r\n(If the file name is with length 0, server will use the uploaded file name instead.)\r\n(non scannable(\".wav\", \".mp3\", \".3gp\", \".mp4\", \".avi\", \".mkv\") file must has file_description with length larger than or equal to 10)","operationId":"UploadFile","consumes":["multipart/form-data"],"produces":["application/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/UploadFile_Response"}}}}},"/api/WatchLater/AddWatchLaterOrUndo":{"post":{"tags":["WatchLater"],"summary":"Add to a file to watch later list if it is not added currently. Remove a file if it is added currently. Max limit per user is 200.","operationId":"AddWatchLaterOrUndo","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/AddWatchLaterOrUndo_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/AddWatchLaterOrUndo_Response"}}}}},"/api/WatchLater/GetUserWatchLater":{"post":{"tags":["WatchLater"],"summary":"Return a list of watch later file id. Return unauthorised if auth fail. The list is ordered by added time. New records rank higher.","operationId":"GetUserWatchLater","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"request","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/GetUserWatchLater_Request"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/GetUserWatchLater_Response"}}}}}},"definitions":{"GetAvatarByUserid_Request":{"required":["auth_token","user_id"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"user_id":{"format":"int32","description":"The avatar owner","type":"integer"}}},"Password_Change_Request":{"required":["auth_token","old_password","new_password"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"old_password":{"maxLength":20,"minLength":5,"type":"string"},"new_password":{"maxLength":20,"minLength":5,"type":"string"}}},"Password_Change_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"<para>0 is success, 1, 2, 3 is fail</para>\r\n<para>1 fail is due to invalid auth token</para>\r\n<para>2 fail is due to invalid old password</para>\r\n<para>3 fail is due to invalid new password</para>\r\n<para>all current sessions will be logged out if success</para>","type":"integer"},"display_message":{"type":"string"}}},"EditFileInfo_Request":{"required":["auth_token","file_ID","file_Name","file_Description","related_courseID"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"file_ID":{"format":"int32","type":"integer"},"file_Name":{"description":"Length has to be &gt; 0","maxLength":256,"minLength":1,"type":"string"},"file_Description":{"description":"For non scannable file, length has to be &gt;= 10, otherwise &gt;= 0.","maxLength":10240,"minLength":0,"type":"string"},"related_courseID":{"format":"int32","type":"integer"}}},"EditFileInfo_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"0 is success, 1 is auth fail, 2 is file does not exit / not the owner, 3 is inputs are invalid","type":"integer"}}},"DeleteFile_Request":{"required":["auth_token","file_ID"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"file_ID":{"format":"int32","type":"integer"}}},"DeleteFile_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"0 is success, 1 is auth fail, 2 is file does not exit / not the owner","type":"integer"}}},"GetFileByFileid_Reuqest":{"required":["auth_token","file_ID"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"file_ID":{"format":"int32","type":"integer"}}},"GetThumbnailByFileid_Request":{"required":["auth_token","file_ID"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"file_ID":{"format":"int32","type":"integer"}}},"GetFileComments_Request":{"required":["auth_token","fileid","next_20"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"fileid":{"format":"int32","maximum":2147483647.0,"minimum":0.0,"type":"integer"},"next_20":{"format":"int32","description":"first 20 queries = 0, next 20 queries = 1, next next 20 queries = 2, etc.","maximum":2147483647.0,"minimum":0.0,"type":"integer"}}},"GetFileComments_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"0 is success, 1 is auth fail","type":"integer"},"fileComments":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/FileComment_ShownToUser"}}}},"FileComment_ShownToUser":{"type":"object","properties":{"id":{"format":"int32","type":"integer"},"sender_UserID":{"format":"int32","type":"integer"},"text":{"type":"string"},"posted_dateTime":{"format":"date-time","type":"string"},"sender_Username":{"type":"string"}}},"PostFileComment_Request":{"required":["auth_token","targeted_fileid","text"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"targeted_fileid":{"format":"int32","maximum":2147483647.0,"minimum":0.0,"type":"integer"},"text":{"maxLength":2048,"minLength":2,"type":"string"}}},"PostFileComment_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"0 is success, 1 is auth fail, 2 is invalid target, 3 is text length is invalid","type":"integer"}}},"DeleteFileComment_Request":{"required":["auth_token","comment_id"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"comment_id":{"format":"int32","type":"integer"}}},"DeleteFileComment_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"0 is success, 1 is auth_fail, 2 is not the owner / invalid comment id","type":"integer"}}},"ForgotPassword_Change_Request":{"required":["email"],"type":"object","properties":{"email":{"description":"A new password and an activation link will be sent to the user email","maxLength":27,"minLength":27,"type":"string"}}},"ForgotPassword_Change_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"<para>0 is success, 1 is fail</para>\r\n<para>all current sessions will be logged out if success</para>","type":"integer"},"display_message":{"type":"string"}}},"AuthToken_Request":{"required":["auth_token"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"}}},"GetUserInfo_Request":{"required":["auth_token"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"userid":{"format":"int32","maximum":2147483647.0,"minimum":0.0,"type":"integer"}}},"GetUserInfo_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"2 is user not found, 1 is auth fail, 0 is success","type":"integer"},"username":{"type":"string"}}},"Login_Request":{"required":["using_email","password","recaptcha_hash"],"type":"object","properties":{"using_email":{"description":"Should be TRUE if the user is trying to login with @link email. Otherwise, an username is expected.","type":"boolean"},"username":{"maxLength":20,"minLength":5,"type":"string"},"email":{"maxLength":27,"minLength":27,"type":"string"},"password":{"maxLength":20,"minLength":5,"type":"string"},"recaptcha_hash":{"type":"string"}}},"Login_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"0 is success, 1 is fail","type":"integer"},"display_message":{"type":"string"},"auth_token":{"description":"<para>A hash that serve as a credential for later purposes </para>\r\n<para>Should be stored in localstorage / sessionstorage (if the user does not check the \"remember me\" option)</para>","type":"string"},"username":{"type":"string"}}},"GetProfileComments_Request":{"required":["auth_token","userid","next_20"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"userid":{"format":"int32","maximum":2147483647.0,"minimum":0.0,"type":"integer"},"next_20":{"format":"int32","description":"first 20 queries = 0, next 20 queries = 1, next next 20 queries = 2, etc.","maximum":2147483647.0,"minimum":0.0,"type":"integer"}}},"GetProfileComments_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"0 is success, 1 is auth fail","type":"integer"},"profileComments":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/ProfileComment_ShownToUser"}}}},"ProfileComment_ShownToUser":{"type":"object","properties":{"id":{"format":"int32","type":"integer"},"sender_UserID":{"format":"int32","type":"integer"},"text":{"type":"string"},"posted_dateTime":{"format":"date-time","type":"string"},"sender_Username":{"type":"string"}}},"PostProfileComment_Request":{"required":["auth_token","targeted_userid","text"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"targeted_userid":{"format":"int32","maximum":2147483647.0,"minimum":0.0,"type":"integer"},"text":{"maxLength":2048,"minLength":2,"type":"string"}}},"PostProfileComment_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"0 is success, 1 is auth fail, 2 is invalid target, 3 is text length is invalid","type":"integer"}}},"DeleteProfileComment_Request":{"required":["auth_token","comment_id"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"comment_id":{"format":"int32","type":"integer"}}},"DeleteProfileComment_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"0 is success, 1 is auth_fail, 2 is not the owner / invalid comment id","type":"integer"}}},"LikeOrUndo_Request":{"required":["auth_token","targeted_fileID","selected_Option"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"targeted_fileID":{"format":"int32","maximum":2147483647.0,"minimum":1.0,"type":"integer"},"selected_Option":{"format":"int32","description":"<para>0 is dislike, 1 is like</para>\r\n<para>if selected_Option = current rating, then the file will be unliked. (neither like / dislike)</para>\r\n<para>if selected_Option != current rating, then current rating = selected_Option. </para>\r\n<para>Say a user disliked a file and want to like it again, selected_Option should be set to 1.</para>\r\n<para>Say a user disliked a file and want to unlike (neither like / dislike) it, selected_Option should be set to 0.</para>","maximum":1.0,"minimum":0.0,"type":"integer"}}},"LikeOrUndo_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"0 is success, 1 is auth fail, 2 is invalid target","type":"integer"}}},"Register_Request":{"required":["username","password","email","recaptcha_hash"],"type":"object","properties":{"username":{"maxLength":20,"minLength":5,"type":"string"},"password":{"maxLength":20,"minLength":5,"type":"string"},"email":{"maxLength":27,"minLength":27,"type":"string"},"recaptcha_hash":{"type":"string"}}},"Register_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"0 is success, 1 is fail","type":"integer"},"display_message":{"type":"string"}}},"Reissue_Email_Request":{"required":["email"],"type":"object","properties":{"email":{"maxLength":27,"minLength":27,"type":"string"}}},"Reissue_Email_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"0 is success, 1 is fail","type":"integer"},"display_message":{"type":"string"}}},"SearchByUserID_Request":{"required":["auth_token","userid","order_by","order","next_20"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"userid":{"format":"int32","description":"<para>The user id that the files from</para>","maximum":2147483647.0,"minimum":1.0,"type":"integer"},"order_by":{"format":"int32","description":"0 = by upload time, 1 = by likes","type":"integer"},"order":{"format":"int32","description":"0 = decreasing order, 1 = increasing order","type":"integer"},"specific_filetype":{"uniqueItems":false,"type":"array","items":{"type":"string"}},"should_before":{"format":"date-time","description":"<para>uploaded time should before or equal this value</para>\r\n<para> status_code = 5 if invalid (not between 1/1/1753 12:00:00 - 12/31/9999 11:59:59) </para>","type":"string"},"should_after":{"format":"date-time","description":"<para>uploaded time should after or equal this value</para>\r\n<para> status_code = 5 if invalid (not between 1/1/1753 12:00:00 - 12/31/9999 11:59:59) </para>","type":"string"},"next_20":{"format":"int32","description":"first 20 queries = 0, next 20 queries = 1, next next 20 queries = 2, etc.","maximum":2147483647.0,"minimum":0.0,"type":"integer"}}},"Search_Response":{"type":"object","properties":{"status_code":{"format":"int32","type":"integer"},"result":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/File_Shown_to_User"}}}},"File_Shown_to_User":{"type":"object","properties":{"file_ID":{"format":"int32","type":"integer"},"file_Name":{"type":"string"},"file_Typename":{"type":"string"},"file_Description":{"type":"string"},"related_courseID":{"format":"int32","type":"integer"},"uploader_UserID":{"format":"int32","type":"integer"},"uploader_Username":{"type":"string"},"upload_Time":{"format":"date-time","type":"string"},"likes":{"format":"int32","type":"integer"},"disLikes":{"format":"int32","type":"integer"}}},"SearchByCourseID_Request":{"required":["auth_token","specific_course","order_by","order","next_20"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"specific_course":{"description":"<para>List of targeted courseID</para>\r\n<para>Maximum specific course is 10, otherwise status_code = 3</para>","uniqueItems":false,"type":"array","items":{"format":"int32","type":"integer"}},"order_by":{"format":"int32","description":"0 = by upload time, 1 = by likes","type":"integer"},"order":{"format":"int32","description":"0 = decreasing order, 1 = increasing order","type":"integer"},"specific_filetype":{"uniqueItems":false,"type":"array","items":{"type":"string"}},"should_before":{"format":"date-time","description":"<para>uploaded time should before or equal this value</para>\r\n<para> status_code = 5 if invalid (not between 1/1/1753 12:00:00 - 12/31/9999 11:59:59) </para>","type":"string"},"should_after":{"format":"date-time","description":"<para>uploaded time should after or equal this value</para>\r\n<para> status_code = 5 if invalid (not between 1/1/1753 12:00:00 - 12/31/9999 11:59:59) </para>","type":"string"},"next_20":{"format":"int32","description":"first 20 queries = 0, next 20 queries = 1, next next 20 queries = 2, etc.","maximum":2147483647.0,"minimum":0.0,"type":"integer"}}},"SearchByQuery_Request":{"required":["auth_token","search_query","next_20"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"search_query":{"description":"<para>text which the user typed in the search box</para>\r\n<para>the query has to contain at least 4 letters, otherwise status_code = 2</para>","maxLength":256,"minLength":4,"type":"string"},"specific_course":{"description":"<para>List of targeted courseID</para>\r\n<para>Maximum specific course is 10 and values are valid, otherwise status_code = 3</para>","uniqueItems":false,"type":"array","items":{"format":"int32","type":"integer"}},"should_before":{"format":"date-time","description":"<para>uploaded time should before or equal this value</para>\r\n<para> status_code = 5 if invalid (not between 1/1/1753 12:00:00 - 12/31/9999 11:59:59) </para>","type":"string"},"should_after":{"format":"date-time","description":"<para>uploaded time should after or equal this value</para>\r\n<para> status_code = 5 if invalid (not between 1/1/1753 12:00:00 - 12/31/9999 11:59:59) </para>","type":"string"},"specific_filetype":{"description":"<para>List of filetype</para>\r\n<para>return status_code = 4 if invalid </para>","uniqueItems":false,"type":"array","items":{"type":"string"}},"next_20":{"format":"int32","description":"first 20 queries = 0, next 20 queries = 1, next next 20 queries = 2, etc.","maximum":2147483647.0,"minimum":0.0,"type":"integer"}}},"Logout_Request":{"required":["auth_token"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"}}},"Logout_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"<para>0 is success, 1 is fail</para>\r\n<para>fail may due to invalid auth token (user has already logged out)</para>","type":"integer"}}},"Get_All_Sessions_Request":{"required":["auth_token"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"}}},"Get_All_Sessions_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"<para>0 is success, 1 is fail</para>\r\n<para>fail is due to invalid auth token (user has already logged out)</para>","type":"integer"},"sessions":{"description":"Return a list of session information.","uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/AuthToken"}}}},"AuthToken":{"type":"object","properties":{"token":{"type":"string"},"userID":{"format":"int32","type":"integer"},"last_access_IP":{"type":"string"},"last_access_Location":{"type":"string"},"last_access_Time":{"format":"date-time","type":"string"},"last_access_Device":{"type":"string"},"last_access_Browser":{"type":"string"}}},"Logout_Specific_Session_Request":{"required":["auth_token","token_to_be_removed"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"token_to_be_removed":{"description":"<para>the token that the user want to log it out</para>\r\n<para>should prevent the user logout its own session\r\n            this part is not checked on server side</para>","maxLength":128,"minLength":128,"type":"string"}}},"Logout_Specific_Session_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"<para>0 is success, 1, 2 is fail</para>\r\n<para>1 fail is due to invalid auth token (user has already logged out)</para>\r\n<para>2 fail is due to given session does not exist or not valid</para>","type":"integer"}}},"SubscribeOrUndo_Request":{"required":["auth_token","courseid"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"courseid":{"format":"int32","maximum":2147483647.0,"minimum":1.0,"type":"integer"}}},"SubscribeOrUndo_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"1 is auth fail, 2 is subscribed, 3 is unsubscribed, 4 invalid courseid, 5 is fail due to hitting the limit 200","type":"integer"}}},"GetUserAllSubscription_Request":{"required":["auth_token"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"}}},"GetUserAllSubscription_Response":{"type":"object","properties":{"courseIDs":{"uniqueItems":false,"type":"array","items":{"format":"int32","type":"integer"}}}},"GetFileProcessStatus_Request":{"required":["auth_token","upload_hist_ID"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"upload_hist_ID":{"format":"int32","maximum":2147483647.0,"minimum":1.0,"type":"integer"}}},"GetFileProcessStatus_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"0 is success, 1 is auth fail, 2 is invalid upload_hist_ID, 3 is not the owner of upload_hist_ID, 4 is not processed but not in the process queue (should not exist in real case if no one disturb the server)","type":"integer"},"processed":{"description":"true if the file has been processed.","type":"boolean"},"uploadHist":{"$ref":"#/definitions/UploadHist","description":"If the file is processed, Object UploadHist will be returned."},"queue_pos":{"format":"int32","description":"If file is not processed, this will be the queue position. 0 means currently processing. 1, 2, 3, 4 ... mean current queue position (maybe useful in designing the progress bar)","type":"integer"},"queue_total":{"format":"int32","description":"If file is not processed, this will be the total number of file waiting in the queue. If queue_pos is 0, this will be 0.  (maybe useful in designing the progress bar)","type":"integer"}}},"UploadHist":{"type":"object","properties":{"id":{"format":"int32","type":"integer"},"file_Name":{"description":"File title","maxLength":256,"type":"string"},"file_typename":{"description":"File extension (.docx, .pdf ...)","type":"string"},"file_Description":{"maxLength":10240,"type":"string"},"related_courseID":{"format":"int32","type":"integer"},"uploader_UserID":{"format":"int32","type":"integer"},"upload_Time":{"format":"date-time","type":"string"},"processed":{"description":"True if the file is processed","type":"boolean"},"processed_Success":{"description":"True if the file is processed successfully","type":"boolean"},"procesed_ErrorMsg":{"format":"int32","description":"If processing fail, the error id returned. Check out File_Process_Tool.cs for meanings.","type":"integer"},"processed_FileID":{"format":"int32","description":"If the file is processed successfully, this will be the uploaded file ID. (Maybe useful in redirection to the view page)","type":"integer"}}},"UploadFile_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"0 is success, 1 is fail due to auth error, 2 is fail due to lack of parameters, 3 is fail due to invalid file type, 4 is faul due to invalid parameters, 5 file is non scannable(\".wav\", \".mp3\", \".3gp\", \".mp4\", \".avi\", \".mkv\") but the user does not provide File_Description with length &gt;= 10","type":"integer"},"upload_id":{"format":"int32","description":"return an upload_id when success","type":"integer"}}},"AddWatchLaterOrUndo_Request":{"required":["auth_token","fileid"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"fileid":{"format":"int32","maximum":2147483647.0,"minimum":1.0,"type":"integer"}}},"AddWatchLaterOrUndo_Response":{"type":"object","properties":{"status_code":{"format":"int32","description":"1 is auth fail, 2 is added, 3 is removed, 4 is fail due to hitting the watchlater limit 200","type":"integer"}}},"GetUserWatchLater_Request":{"required":["auth_token","next_20"],"type":"object","properties":{"auth_token":{"maxLength":128,"minLength":128,"type":"string"},"next_20":{"format":"int32","description":"first 20 queries = 0, next 20 queries = 1, next next 20 queries = 2, etc.","maximum":2147483647.0,"minimum":0.0,"type":"integer"}}},"GetUserWatchLater_Response":{"type":"object","properties":{"fileID":{"uniqueItems":false,"type":"array","items":{"format":"int32","type":"integer"}}}}}}